(this["webpackJsonphacker-news"]=this["webpackJsonphacker-news"]||[]).push([[0],{19:function(e,t,a){e.exports=a(31)},24:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(16),o=a.n(r),s=(a(24),a(3)),l=a(1),i=a(4);var m=function(){var e=Object(l.h)().pathname,t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],o=a[1];return c.a.createElement("nav",{className:"navbar navbar-expand-lg fixed-top navbar-dark bg-dark"},c.a.createElement(s.b,{to:"/",className:"navbar-brand mr-auto mr-lg-0 mr-lg-5"},"Hacker News"),c.a.createElement("button",{onClick:function(){return o(!r)},className:"navbar-toggler p-0 border-0",type:"button","data-toggle":"offcanvas"},c.a.createElement("span",{className:"navbar-toggler-icon"})),c.a.createElement("div",{className:"navbar-collapse offcanvas-collapse ".concat(r?" ":"hide-dd"),id:"navbarsExampleDefault"},c.a.createElement("ul",{className:"navbar-nav mr-auto"},c.a.createElement("li",{className:"nav-item ".concat("/"===e&&"active")},c.a.createElement(s.c,{to:"/topstories",className:"nav-link"},"Top Stories")),c.a.createElement("li",{className:"nav-item"},c.a.createElement(s.c,{to:"/newstories",className:"nav-link"},"New Stories")),c.a.createElement("li",{className:"nav-item"},c.a.createElement(s.c,{to:"/beststories",className:"nav-link"},"Best Stories")))))};var u=function(e){var t=e.story;return c.a.createElement("div",{className:"media text-muted pt-3"},c.a.createElement("p",{className:"media-body pb-3 mb-0 small lh-125 border-bottom border-gray"},c.a.createElement(s.b,{to:"#",onClick:function(){return window.open(t.url,"_blank")},className:"text-dark d-block text-decoration-none font-weight-bold"},t.title),t.score," points by ",t.by," |",c.a.createElement(s.b,{to:"/comments/".concat(t.id)}," ",t.kids?t.kids.length:0," comments")))},b=a(13),d=a.n(b),p=a(18),f="https://hacker-news.firebaseio.com/v0/",v="arrow-down",E="/topstories",h="Top Stories",N="Loading all comments, it can take time a while...";function j(){return(j=Object(p.a)(d.a.mark((function e(t,a,n){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.slice(a,n).map((function(e){return k(e)}));case 3:return c=e.sent,e.next=6,Promise.all(c);case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log("Error:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function k(e){return fetch(f+"item/".concat(e,".json")).then((function(e){return e.json()})).catch((function(e){console.log("Error:",e)}))}var g=function(e){var t=e.stories,a=e.setDisplayedStories,r=Object(n.useState)(1),o=Object(i.a)(r,2),l=o[0],m=o[1],u=Math.ceil(t.length/10),b=10*l,d=b-10;return Object(n.useEffect)((function(){(function(e,t,a){return j.apply(this,arguments)})(t,d,b).then((function(e){a(e)}))}),[a,t,d,b]),c.a.createElement("ul",{className:"pagination pt-3"},c.a.createElement("li",{className:"page-item"},c.a.createElement(s.b,{to:"#",onClick:function(){return function(e){var t=e-1;t>=1&&m(t)}(l)},className:"page-link"},"Prev")),c.a.createElement("li",{className:"page-item"},c.a.createElement(s.b,{to:"#",onClick:function(){return function(e){var t=e+1;t<u&&m(t)}(l)},className:"page-link"},"Next")))};var O=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),s=Object(i.a)(o,2),m=s[0],b=s[1],d=Object(l.g)().location.pathname,p=Object(n.useState)([]),v=Object(i.a)(p,2),N=v[0],j=v[1];Object(n.useEffect)((function(){fetch("".concat(f).concat("/"===d?E:d,".json")).then((function(e){return e.json()})).then((function(e){r(e),b(!0)})).catch((function(e){console.log("Error:",e)}))}),[d]);var k=Object(n.useState)((function(){return"/"===d?h:d.slice(1).replace(/sto/g," sto")})),O=Object(i.a)(k,1)[0];return c.a.createElement("main",{role:"main",className:"container"},c.a.createElement("div",{className:"my-3 p-3 bg-white rounded shadow-sm"},c.a.createElement("h6",{className:"border-bottom border-gray pb-2 mb-0 text-capitalize"},O),N.map((function(e){return c.a.createElement(u,{story:e,key:e.id})})),m&&c.a.createElement(g,{stories:a,setDisplayedStories:j})))};function y(e){return fetch("".concat(f,"item/").concat(e,".json")).then((function(e){return e.json()})).catch((function(e){console.error("Error:",e)}))}var w=function e(t){var a=t.commentID,r=Object(n.useState)("show"),o=Object(i.a)(r,2),s=o[0],l=o[1],m=Object(n.useState)(),u=Object(i.a)(m,2),b=u[0],d=u[1];Object(n.useEffect)((function(){y(a).then((function(e){d(e)}))}),[a]);var p=(b&&b.kids||[]).map((function(t,a){return c.a.createElement(e,{commentID:t,key:a})}));return c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-header d-flex justify-content-between",id:"headingOne"},null===b||void 0===b?void 0:b.by,c.a.createElement("span",{onClick:function(){return l(s?"":"show")},className:"arrow ".concat(s?"":v)})),c.a.createElement("div",{id:"collapseOne",className:"collapse ".concat(s),"aria-labelledby":"headingOne","data-parent":"#accordion"},c.a.createElement("div",{className:"card-body",id:"child1"},c.a.createElement("div",{dangerouslySetInnerHTML:{__html:null===b||void 0===b?void 0:b.text},className:""}),p)))};var S=function(){var e=Object(l.i)().id,t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],o=a[1],s=Object(n.useState)(!0),m=Object(i.a)(s,2),u=m[0],b=m[1];return Object(n.useEffect)((function(){y(e).then((function(e){o(e.kids),b(!1)}))}),[e]),console.log(r),c.a.createElement("div",{className:"container"},c.a.createElement("h6",{className:"pl-3 pt-3 mt-3 pb-2 mb-0"},"Comments"),u?c.a.createElement("div",{className:"text-center pt-5 mt-5"},N):r.map((function(e,t){return c.a.createElement(w,{commentID:e,key:t})})))};var x=function(){return c.a.createElement(s.a,null,c.a.createElement("div",{className:"app"},c.a.createElement(m,null),c.a.createElement(l.d,null,c.a.createElement(l.b,{exact:!0,key:"/",path:"/",component:O}),c.a.createElement(l.b,{key:"topstories",path:"/topstories",component:O}),c.a.createElement(l.b,{key:"newstories",path:"/newstories",component:O}),c.a.createElement(l.b,{key:"beststories",path:"/beststories",component:O}),c.a.createElement(l.b,{path:"/comments/:id",component:S}),c.a.createElement(l.a,{from:"*",to:"/"}))))};o.a.render(c.a.createElement(x,null),document.querySelector("#root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.55acfd51.chunk.js.map